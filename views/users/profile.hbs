{{!-- profile --}}
<div class="card mb-3" style="margin: auto;">
  <div class="row g-0">
    <div class="col-md-4">
      <img src="{{ user.image }}" class="" alt="user imge"
        style="width: 100%; height: 100%; max-width: 400px; max-height: 400px; transition: opacity 0.5s; opacity:0; object-fit:cover;"
        onload="this.style.opacity=1;">
    </div>
    <div class="col-md-8 pt-2">
      <div class="card-body">
        <h4 class="card-title fw-bold">{{ user.name }}</h4>
        <p class="card-text">{{ user.email }}</p>
        <p><strong>
            {{#if user.Comments}}
            {{user.Comments.length}}家已評論的餐廳
            {{else}}
            尚未評論過任何餐廳
            {{/if}}
          </strong></p>
        <p><strong>
            {{#if user.FavoritedRestaurants}}
            {{user.FavoritedRestaurants.length}} 收藏的餐廳
            {{else}}
            尚未收藏過任何餐廳
            {{/if}}
          </strong></p>
        <p><strong>
            {{#if user.Followers}}
            {{user.Followers.length}} followers(追隨者)
            {{else}}
            沒有 followers (追隨者)
            {{/if}}
          </strong></p>
        <p><strong>
            {{#if user.Followings}}
            {{user.Followings.length}} followings(追蹤者)
            {{else}}
            沒有 followings (追蹤者)
            {{/if}}
          </strong></p>
        <br>
        {{#ifCond user.id loginUser.dataValues.id}}
        <a class="btn btn-outline-primary" href="/users/{{user.id}}/edit">Edit</a>
        {{/ifCond}}
      </div>
    </div>
  </div>
</div>

{{!-- comment panel --}}
<div class="row g-0">
  <div class="col-md-4 pt-2">
    <div class="card">
      <div class="card-header">
        {{#if user.Followers}}
        {{user.Followers.length}} followers(追隨者)
        {{else}}
        沒有 followers (追隨者)
        {{/if}}
      </div>
      <div class="card-body">
        {{#each user.Followers}}
        <a href="/users/{{this.id}}"><img src="{{this.image}}" style="width:50px;height:50px;"></a>
        {{/each}}
      </div>
    </div>

    <div class="card mt-3">
      <div class="card-header">
        {{#if user.Followings}}
        {{user.Followings.length}} followings(追蹤者)
        {{else}}
        沒有 followings (追蹤者)
        {{/if}}
      </div>
      <div class="card-body">
        {{#each user.Followings}}
        <a href="/users/{{this.id}}"><img src="{{this.image}}" style="width:50px;height:50px;"></a>
        {{/each}}
      </div>
    </div>
  </div>

  <div class="col-md-8 pt-2 ps-5">
    <div class="card" style="margin: auto;">
      <div class="card-header">
        {{#if user.Comments}}
        {{user.Comments.length}}家已評論的餐廳
        {{else}}
        尚未評論過任何餐廳
        {{/if}}
      </div>
      <div class="card-body">
        {{#each user.Comments}}
        <a href="/restaurants/{{this.Restaurant.id}}"><img src="{{this.Restaurant.image}}"
            style="width:50px;height:50px;"></a>
        {{/each}}
      </div>
    </div>

    <div class="card mt-3">
      <div class="card-header">
        {{#if user.FavoritedRestaurants}}
        {{user.FavoritedRestaurants.length}} 收藏的餐廳
        {{else}}
        尚未收藏過任何餐廳
        {{/if}}
      </div>
      <div class="card-body">
        {{#each user.FavoritedRestaurants}}
        <a href="/restaurants/{{this.id}}"><img src="{{this.image}}" style="width:50px;height:50px;"></a>
        {{/each}}
      </div>
    </div>
  </div>
</div>